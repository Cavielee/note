# 分支版本

## 主分支

master 或 main，保持为最新可测试版本，包含最新完整的功能。

一般地，测试人员和QA关键主分支的代码质量，并为发布前做准备。

主分支锁定，仅能由项目负责人、主要开发人员，以 PR 方式合并。



## 开发分支

develop 分支保持为最新可集成的代码，在 develop 分支上必须是可编译通过的，但功能不需要为完整的。

一般地，合并到开发分支的代码已可为进入主分支做准备，多个开发人员开发时在此分支上进行代码的集成兼容性检查。



## 标签

代码可进入到发布状态时，可打一个标签，有两种形式：

<版本号>-SNAPSHOT

<版本号>-RELEASE



## 版本号

采用 <主版本>.<次版本>.<修订版本> 模式

主版本：总体架构、业务模型、核心接口保持一致

次版本：接口保持兼容，可增加接口内容

修订版本：仅内部实现代码变化



## 制品版本

制品按照版本号来定义基本版本。

对于移动端，有特殊的 commit id 的记录需要，因此可在版本号后加上 commit id 前8位 ，如

autox-1.0.1-SNAPSHOT-<commit id>

其中，由于已使用 commit id 来跟踪提交版本，SNAPSHOT部分可省略。



# 约定式提交

## 概述

约定式提交规范是一种基于提交信息的轻量级约定。 它提供了一组简单规则来创建清晰的提交历史； 这更有利于编写自动化工具。 通过在提交信息中描述功能、修复和破坏性变更， 使这种惯例与 [SemVer](http://semver.org/) 相互对应。



提交说明包含了下面的结构化元素，以向类库使用者表明其意图。提交说明的结构如下所示：

原文：

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

译文：

```
<类型>[可选 范围]: <描述>

[可选 正文]

[可选 脚注]
```



**类型：**

* fix：类型为 `fix` 的提交，表示在代码库中修复了一个 bug。
* feat：类型为 `feat` 的提交，表示在代码库中新增了一个功能。
* style：格式（不影响代码运行的变动）
* refactor：重构（既不是新增的功能，也不是修改bug的代码变动）
* test：增加测试
* chore：构建过程或辅助工具的变动

**脚注：**

* BREAKING CHANGE：表示引入了破坏性 API 变更。也可以在<类型>(范围) 后面加有一个 `!` 表示有破坏性变更。

