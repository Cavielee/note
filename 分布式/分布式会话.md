# 状态保留

使用 Http 协议进行客户端与服务端通信，由于 Http 协议无状态特性。因此每一次进行通信请求都是无关联的。

而在实际场景中，往往需要多次通信请求需要保留一定的状态，如登陆状态，一旦登陆后，每一请求访问都应该能够保留登陆状态，而不是重新进行登陆。

因此需要一种机制去保留状态。



## 会话Session

客户端一旦和服务端建立连接后，会保留会话 Session，之后该客户端每次请求访问都会对应同一个会话 Session。可以将状态保留 Session 中。



## Cookie

由于 Http 协议无状态特性，因此服务端并不知道该请求对应的是哪一个客户端的会话。

因此每一个 Session 都有一个唯一的 id，由客户端保留该 SessionId，并在每一次发起请求时带上该 SessionId，此时服务端就可以找到对应的 Session。



## Session 和 Cookie区别

1. 实际上数据都可以存储在客户端 Cookie 中，但为了确保数据的安全性（防止数据被窃取或者串改），因此一些敏感数据需要存储在服务端。
2. Cookie 数据越多，意味着每次请求附带的数据越多，请求体积大小越大，从而导致网络更大消耗。
3. 客户端可以选择屏蔽 Cookie，此时可以通过将状态数据存储在 url 上，但该方案是明文传输，不安全的。